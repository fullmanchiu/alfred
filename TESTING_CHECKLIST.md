# Alfred 基本功能测试清单

## 测试环境
- [ ] 后端运行在 http://localhost:8080
- [ ] 前端运行（flutter run -d chrome）
- [ ] 数据库已初始化
- [ ] 测试账号可用：lance / 921217qL

---

## 1. 用户认证功能

### 1.1 登录
- [ ] 打开应用自动跳转到登录页
- [ ] 输入用户名和密码
- [ ] 点击登录按钮
- [ ] 成功登录后跳转到Hub页面

### 1.2 注册
- [ ] 点击"注册"链接
- [ ] 输入用户名、密码、邮箱
- [ ] 提交注册
- [ ] 自动登录并创建默认账户和分类

### 1.3 个人资料
- [ ] 访问 `/profile` 路由
- [ ] 查看用户信息（昵称、邮箱、注册时间）
- [ ] 点击"编辑"按钮
- [ ] 修改昵称和邮箱
- [ ] 保存更改
- [ ] 验证更新成功

---

## 2. 记账功能（核心）

### 2.1 创建支出记录
- [ ] 访问 `/accounting` 页面
- [ ] 点击"记一笔"按钮
- [ ] 选择类型：支出
- [ ] 输入金额（如：50.0）
- [ ] 选择分类（如：餐饮）
- [ ] 选择账户（如：现金）
- [ ] 输入备注（可选）
- [ ] 保存
- [ ] 验证交易出现在列表中

### 2.2 创建收入记录
- [ ] 点击"记一笔"按钮
- [ ] 选择类型：收入
- [ ] 输入金额（如：5000.0）
- [ ] 选择分类（如：工资）
- [ ] 选择账户
- [ ] 保存
- [ ] 验证交易出现在列表中

### 2.3 查看交易列表
- [ ] 在记账页面查看所有交易
- [ ] 验证显示收入/支出图标
- [ ] 验证显示分类图标
- [ ] 验证显示金额和备注

### 2.4 搜索和筛选
- [ ] 使用搜索框输入关键词
- [ ] 点击筛选按钮
- [ ] 按类型筛选（支出/收入）
- [ ] 按分类筛选
- [ ] 验证筛选结果正确

### 2.5 更新交易
- [ ] 点击某个交易卡片
- [ ] 修改金额或备注
- [ ] 保存
- [ ] 验证更新成功

### 2.6 删除交易
- [ ] 点击某个交易卡片
- [ ] 点击删除
- [ ] 确认删除
- [ ] 验证交易从列表消失

---

## 3. 统计功能

### 3.1 查看统计概览
- [ ] 在记账页面查看统计卡片
- [ ] 验证显示总收入
- [ ] 验证显示总支出
- [ ] 验证显示结余

### 3.2 查看详细统计
- [ ] 点击统计卡片或图表按钮
- [ ] 跳转到 `/statistics` 页面
- [ ] 查看饼图（分类占比）
- [ ] 查看分类详情列表
- [ ] 切换时间周期（周/月/年）
- [ ] 验证数据更新

---

## 4. 分类管理

### 4.1 查看分类列表
- [ ] 访问 `/categories` 页面
- [ ] 查看支出分类列表
- [ ] 查看收入分类列表
- [ ] 验证分类图标和颜色

### 4.2 创建自定义分类
- [ ] 点击"添加分类"按钮
- [ ] 输入分类名称
- [ ] 选择类型（支出/收入）
- [ ] 选择图标和颜色
- [ ] 保存
- [ ] 验证新分类出现在列表中

### 4.3 编辑分类
- [ ] 点击某个分类卡片
- [ ] 修改名称或图标
- [ ] 保存
- [ ] 验证更新成功

### 4.4 删除分类
- [ ] 点击自定义分类
- [ ] 删除分类
- [ ] 确认删除
- [ ] 验证分类消失

---

## 5. 预算管理

### 5.1 查看预算列表
- [ ] 访问 `/budgets` 页面
- [ ] 查看现有预算列表
- [ ] 验证显示预算金额、周期、预警阈值

### 5.2 创建预算
- [ ] 点击"添加预算"按钮
- [ ] 选择分类
- [ ] 输入预算金额
- [ ] 选择周期（月度/周度/日度）
- [ ] 设置预警阈值
- [ ] 设置开始和结束日期
- [ ] 保存
- [ ] 验证新预算出现在列表中

### 5.3 更新预算
- [ ] 点击某个预算卡片
- [ ] 修改金额或阈值
- [ ] 保存
- [ ] 验证更新成功

### 5.4 删除预算
- [ ] 点击某个预算
- [ ] 删除
- [ ] 验证预算消失

---

## 6. 账户管理

### 6.1 查看账户列表
- [ ] 访问 `/accounts` 页面
- [ ] 查看所有账户
- [ ] 验证显示账户余额

### 6.2 创建账户
- [ ] 点击"添加账户"
- [ ] 输入账户名称
- [ ] 选择账户类型
- [ ] 设置初始余额
- [ ] 保存
- [ ] 验证新账户出现

---

## 7. 端到端流程测试

### 7.1 完整记账流程
1. 登录 → 记账页面
2. 创建支出记录 → 验证统计卡片更新
3. 创建收入记录 → 验证统计卡片更新
4. 查看详细统计页面 → 验证图表显示
5. 搜索刚创建的交易 → 验证找到

### 7.2 预算管理流程
1. 创建分类（如："餐饮"）
2. 为该分类创建月度预算（如：2000元）
3. 创建该分类的支出记录
4. 查看预算使用情况
5. 验证spent和remaining字段计算

---

## 已知问题

### 需要修复
1. ~~个人信息页面API不存在~~ ✅ 已修复
2. 预算的spent和remaining字段返回null（需要实现计算逻辑）

### 功能限制
1. 一个分类只能有一个预算
2. 软删除机制（删除后仍可查询，但isActive=false）

---

## 测试结果记录

### 通过的功能
- 个人信息查看和编辑 ✅
- 其他待测试...

### 失败的功能
- 无

### 需要改进的功能
- 预算计算逻辑（spent/remaining）
